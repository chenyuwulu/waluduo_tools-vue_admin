{"remainingRequest":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!D:\\we_sub\\gf-vue-admin\\web\\src\\directive\\auth.js","dependencies":[{"path":"D:\\we_sub\\gf-vue-admin\\web\\src\\directive\\auth.js","mtime":1599721582943},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLyDmnYPpmZDmjInpkq7lsZXnpLrmjIfku6QKaW1wb3J0IHsgc3RvcmUgfSBmcm9tICdAL3N0b3JlL2luZGV4JzsKdmFyIHVzZXJJbmZvID0gc3RvcmUuZ2V0dGVyc1sndXNlci91c2VySW5mbyddOwpleHBvcnQgdmFyIGF1dGggPSBmdW5jdGlvbiBhdXRoKFZ1ZSkgewogIFZ1ZS5kaXJlY3RpdmUoJ2F1dGgnLCB7CiAgICAvLyDlvZPooqvnu5HlrprnmoTlhYPntKDmj5LlhaXliLAgRE9NIOS4reaXtuKApuKApgogICAgYmluZDogZnVuY3Rpb24gYmluZChlbCwgYmluZGluZykgewogICAgICB2YXIgdHlwZSA9ICIiOwoKICAgICAgc3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYmluZGluZy52YWx1ZSkpIHsKICAgICAgICBjYXNlICJbb2JqZWN0IEFycmF5XSI6CiAgICAgICAgICB0eXBlID0gIkFycmF5IjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJbb2JqZWN0IFN0cmluZ10iOgogICAgICAgICAgdHlwZSA9ICJTdHJpbmciOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIltvYmplY3QgTnVtYmVyXSI6CiAgICAgICAgICB0eXBlID0gIk51bWJlciI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHR5cGUgPSAiIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAodHlwZSA9PT0gIiIpIHsKICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLwogICAgICAgIGNvbnNvbGUuZXJyb3IoInYtYXV0aOW/hemhu+aYr0FycmF5LE51bWJlcixTdHJpbmflsZ7mgKcs5pqC5LiN5pSv5oyB5YW25LuW5bGe5oCnIik7CiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqLwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB3YWl0VXNlID0gYmluZGluZy52YWx1ZS50b1N0cmluZygpLnNwbGl0KCIsIik7CiAgICAgIHZhciBmbGFnID0gd2FpdFVzZS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT0gdXNlckluZm8uYXV0aG9yaXR5SWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGJpbmRpbmcubW9kaWZpZXJzLm5vdCkgewogICAgICAgIGZsYWcgPSAhZmxhZzsKICAgICAgfQoKICAgICAgaWYgKCFmbGFnKSB7CiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgfQogICAgfQogIH0pOwp9Ow=="},{"version":3,"sources":["D:/we_sub/gf-vue-admin/web/src/directive/auth.js"],"names":["store","userInfo","getters","auth","Vue","directive","bind","el","binding","type","Object","prototype","toString","call","value","console","error","waitUse","split","flag","some","item","authorityId","modifiers","not","style","display"],"mappings":";;;;;AAAA;AACA,SAASA,KAAT,QAAsB,eAAtB;AACA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,OAAN,CAAc,eAAd,CAAjB;AACA,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,GAAD,EAAS;AACzBA,EAAAA,GAAG,CAACC,SAAJ,CAAc,MAAd,EAAsB;AAClB;AACAC,IAAAA,IAAI,EAAE,cAAUC,EAAV,EAAcC,OAAd,EAAuB;AAC3B,UAAIC,IAAI,GAAG,EAAX;;AACA,cAAQC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,OAAO,CAACM,KAAvC,CAAR;AACE,aAAK,gBAAL;AACEL,UAAAA,IAAI,GAAG,OAAP;AACA;;AACF,aAAK,iBAAL;AACEA,UAAAA,IAAI,GAAG,QAAP;AACA;;AACF,aAAK,iBAAL;AACEA,UAAAA,IAAI,GAAG,QAAP;AACA;;AACF;AACEA,UAAAA,IAAI,GAAG,EAAP;AACA;AAZJ;;AAcA,UAAIA,IAAI,KAAK,EAAb,EAAiB;AACf;AACAM,QAAAA,OAAO,CAACC,KAAR,CAAc,yCAAd;AACA;;AACA;AACD;;AACD,UAAMC,OAAO,GAAGT,OAAO,CAACM,KAAR,CAAcF,QAAd,GAAyBM,KAAzB,CAA+B,GAA/B,CAAhB;AAEA,UAAIC,IAAI,GAAGF,OAAO,CAACG,IAAR,CAAa,UAAAC,IAAI;AAAA,eAAEA,IAAI,IAAEpB,QAAQ,CAACqB,WAAjB;AAAA,OAAjB,CAAX;;AACA,UAAId,OAAO,CAACe,SAAR,CAAkBC,GAAtB,EAA2B;AACzBL,QAAAA,IAAI,GAAG,CAACA,IAAR;AACD;;AACD,UAAG,CAACA,IAAJ,EAAS;AACPZ,QAAAA,EAAE,CAACkB,KAAH,CAASC,OAAT,GAAmB,MAAnB;AACD;AACF;AAjCiB,GAAtB;AAmCH,CApCM","sourcesContent":["// 权限按钮展示指令\r\nimport { store } from '@/store/index'\r\nconst userInfo = store.getters['user/userInfo']\r\nexport const auth = (Vue) => {\r\n    Vue.directive('auth', {\r\n        // 当被绑定的元素插入到 DOM 中时……\r\n        bind: function (el, binding) {\r\n          let type = \"\"\r\n          switch (Object.prototype.toString.call(binding.value)) {\r\n            case \"[object Array]\":\r\n              type = \"Array\"\r\n              break;\r\n            case \"[object String]\":\r\n              type = \"String\"\r\n              break;\r\n            case \"[object Number]\":\r\n              type = \"Number\"\r\n              break;\r\n            default:\r\n              type = \"\"\r\n              break;\r\n          }\r\n          if (type === \"\") {\r\n            /* eslint-disable */\r\n            console.error(\"v-auth必须是Array,Number,String属性,暂不支持其他属性\")\r\n            /* eslint-enable */\r\n            return\r\n          }\r\n          const waitUse = binding.value.toString().split(\",\")\r\n      \r\n          let flag = waitUse.some(item=>item==userInfo.authorityId)\r\n          if (binding.modifiers.not) {\r\n            flag = !flag\r\n          }\r\n          if(!flag){\r\n            el.style.display = 'none'\r\n          }\r\n        }\r\n      })\r\n}"]}]}
{"remainingRequest":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!D:\\we_sub\\gf-vue-admin\\web\\src\\store\\module\\router.js","dependencies":[{"path":"D:\\we_sub\\gf-vue-admin\\web\\src\\store\\module\\router.js","mtime":1599721582946},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovd2Vfc3ViL2dmLXZ1ZS1hZG1pbi93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBhc3luY1JvdXRlckhhbmRsZSB9IGZyb20gJ0AvdXRpbHMvYXN5bmNSb3V0ZXInOwppbXBvcnQgeyBhc3luY01lbnUgfSBmcm9tICdAL2FwaS9tZW51JzsKdmFyIHJvdXRlckxpc3QgPSBbXTsKCnZhciBmb3JtYXRSb3V0ZXIgPSBmdW5jdGlvbiBmb3JtYXRSb3V0ZXIocm91dGVzKSB7CiAgcm91dGVzICYmIHJvdXRlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICgoIWl0ZW0uY2hpbGRyZW4gfHwgaXRlbS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbiAoY2gpIHsKICAgICAgcmV0dXJuIGNoLmhpZGRlbjsKICAgIH0pKSAmJiBpdGVtLm5hbWUgIT0gJzQwNCcpIHsKICAgICAgcm91dGVyTGlzdC5wdXNoKHsKICAgICAgICBsYWJlbDogaXRlbS5tZXRhLnRpdGxlLAogICAgICAgIHZhbHVlOiBpdGVtLm5hbWUKICAgICAgfSk7CiAgICB9CgogICAgaXRlbS5tZXRhLmhpZGRlbiA9IGl0ZW0uaGlkZGVuOwoKICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICBmb3JtYXRSb3V0ZXIoaXRlbS5jaGlsZHJlbik7CiAgICB9CiAgfSk7Cn07CgpleHBvcnQgdmFyIHJvdXRlciA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBhc3luY1JvdXRlcnM6IFtdLAogICAgcm91dGVyTGlzdDogcm91dGVyTGlzdAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRSb3V0ZXJMaXN0OiBmdW5jdGlvbiBzZXRSb3V0ZXJMaXN0KHN0YXRlLCByb3V0ZXJMaXN0KSB7CiAgICAgIHN0YXRlLnJvdXRlckxpc3QgPSByb3V0ZXJMaXN0OwogICAgfSwKICAgIC8vIOiuvue9ruWKqOaAgei3r+eUsQogICAgc2V0QXN5bmNSb3V0ZXI6IGZ1bmN0aW9uIHNldEFzeW5jUm91dGVyKHN0YXRlLCBhc3luY1JvdXRlcnMpIHsKICAgICAgc3RhdGUuYXN5bmNSb3V0ZXJzID0gYXN5bmNSb3V0ZXJzOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g5LuO5ZCO5Y+w6I635Y+W5Yqo5oCB6Lev55SxCiAgICBTZXRBc3luY1JvdXRlcjogZnVuY3Rpb24gU2V0QXN5bmNSb3V0ZXIoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIGJhc2VSb3V0ZXIsIGFzeW5jUm91dGVyUmVzLCBhc3luY1JvdXRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIGJhc2VSb3V0ZXIgPSBbewogICAgICAgICAgICAgICAgICBwYXRoOiAnL2xheW91dCcsCiAgICAgICAgICAgICAgICAgIG5hbWU6ICdsYXlvdXQnLAogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICJ2aWV3L2xheW91dC9pbmRleC52dWUiLAogICAgICAgICAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLlupXlsYJsYXlvdXQiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXQogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBhc3luY01lbnUoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYXN5bmNSb3V0ZXJSZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgYXN5bmNSb3V0ZXIgPSBhc3luY1JvdXRlclJlcy5kYXRhLm1lbnVzOwogICAgICAgICAgICAgICAgYXN5bmNSb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICI0MDQiLAogICAgICAgICAgICAgICAgICBuYW1lOiAiNDA0IiwKICAgICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLAogICAgICAgICAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLov7fot6/kuoYq44CCKiIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiAndmlldy9lcnJvci9pbmRleC52dWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGZvcm1hdFJvdXRlcihhc3luY1JvdXRlcik7CiAgICAgICAgICAgICAgICBiYXNlUm91dGVyWzBdLmNoaWxkcmVuID0gYXN5bmNSb3V0ZXI7CiAgICAgICAgICAgICAgICBiYXNlUm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiAnKicsCiAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiAnL2xheW91dC80MDQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGFzeW5jUm91dGVySGFuZGxlKGJhc2VSb3V0ZXIpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBc3luY1JvdXRlcicsIGJhc2VSb3V0ZXIpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRSb3V0ZXJMaXN0Jywgcm91dGVyTGlzdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIC8vIOiOt+WPluWKqOaAgei3r+eUsQogICAgYXN5bmNSb3V0ZXJzOiBmdW5jdGlvbiBhc3luY1JvdXRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFzeW5jUm91dGVyczsKICAgIH0sCiAgICByb3V0ZXJMaXN0OiBmdW5jdGlvbiByb3V0ZXJMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yb3V0ZXJMaXN0OwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/we_sub/gf-vue-admin/web/src/store/module/router.js"],"names":["asyncRouterHandle","asyncMenu","routerList","formatRouter","routes","map","item","children","every","ch","hidden","name","push","label","meta","title","value","length","router","namespaced","state","asyncRouters","mutations","setRouterList","setAsyncRouter","actions","SetAsyncRouter","commit","baseRouter","path","component","asyncRouterRes","asyncRouter","data","menus","redirect","getters"],"mappings":"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","sourcesContent":["import { asyncRouterHandle } from '@/utils/asyncRouter';\r\n\r\nimport { asyncMenu } from '@/api/menu'\r\n\r\nconst routerList = []\r\nconst formatRouter = (routes) => {\r\n    routes && routes.map(item => {\r\n        if ((!item.children || item.children.every(ch => ch.hidden)) && item.name != '404') {\r\n            routerList.push({ label: item.meta.title, value: item.name })\r\n        }\r\n        item.meta.hidden = item.hidden\r\n        if (item.children && item.children.length > 0) {\r\n            formatRouter(item.children)\r\n        }\r\n    })\r\n}\r\n\r\nexport const router = {\r\n    namespaced: true,\r\n    state: {\r\n        asyncRouters: [],\r\n        routerList: routerList,\r\n    },\r\n    mutations: {\r\n        setRouterList(state, routerList) {\r\n            state.routerList = routerList\r\n        },\r\n        // 设置动态路由\r\n        setAsyncRouter(state, asyncRouters) {\r\n            state.asyncRouters = asyncRouters\r\n        }\r\n    },\r\n    actions: {\r\n        // 从后台获取动态路由\r\n        async SetAsyncRouter({ commit }) {\r\n            const baseRouter = [{\r\n                path: '/layout',\r\n                name: 'layout',\r\n                component: \"view/layout/index.vue\",\r\n                meta: {\r\n                    title: \"底层layout\"\r\n                },\r\n                children: []\r\n            }]\r\n            const asyncRouterRes = await asyncMenu()\r\n            const asyncRouter = asyncRouterRes.data.menus\r\n            asyncRouter.push({\r\n                path: \"404\",\r\n                name: \"404\",\r\n                hidden: true,\r\n                meta: {\r\n                    title: \"迷路了*。*\",\r\n                },\r\n                component: 'view/error/index.vue'\r\n            })\r\n            formatRouter(asyncRouter)\r\n            baseRouter[0].children = asyncRouter\r\n            baseRouter.push({\r\n                path: '*',\r\n                redirect: '/layout/404'\r\n\r\n            })\r\n            asyncRouterHandle(baseRouter)\r\n            commit('setAsyncRouter', baseRouter)\r\n            commit('setRouterList', routerList)\r\n            return true\r\n        }\r\n    },\r\n    getters: {\r\n        // 获取动态路由\r\n        asyncRouters(state) {\r\n            return state.asyncRouters\r\n        },\r\n        routerList(state) {\r\n            return state.routerList\r\n        }\r\n    }\r\n}"]}]}
{"remainingRequest":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!D:\\we_sub\\gf-vue-admin\\web\\src\\utils\\downloadImg.js","dependencies":[{"path":"D:\\we_sub\\gf-vue-admin\\web\\src\\utils\\downloadImg.js","mtime":1599721582949},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IHZhciBkb3dubG9hZEltYWdlID0gZnVuY3Rpb24gZG93bmxvYWRJbWFnZShpbWdzcmMsIG5hbWUpIHsKICAvL+S4i+i9veWbvueJh+WcsOWdgOWSjOWbvueJh+WQjQogIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogIGltYWdlLnNldEF0dHJpYnV0ZSgiY3Jvc3NPcmlnaW4iLCAiYW5vbnltb3VzIik7CgogIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoOwogICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDsKICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7CiAgICB2YXIgdXJsID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIik7IC8v5b6X5Yiw5Zu+54mH55qEYmFzZTY057yW56CB5pWw5o2uCgogICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7IC8vIOeUn+aIkOS4gOS4qmHlhYPntKAKCiAgICB2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudCgiY2xpY2siKTsgLy8g5Yib5bu65LiA5Liq5Y2V5Ye75LqL5Lu2CgogICAgYS5kb3dubG9hZCA9IG5hbWUgfHwgInBob3RvIjsgLy8g6K6+572u5Zu+54mH5ZCN56ewCgogICAgYS5ocmVmID0gdXJsOyAvLyDlsIbnlJ/miJDnmoRVUkzorr7nva7kuLphLmhyZWblsZ7mgKcKCiAgICBhLmRpc3BhdGNoRXZlbnQoZXZlbnQpOyAvLyDop6blj5Fh55qE5Y2V5Ye75LqL5Lu2CiAgfTsKCiAgaW1hZ2Uuc3JjID0gaW1nc3JjOwp9Ow=="},{"version":3,"sources":["D:/we_sub/gf-vue-admin/web/src/utils/downloadImg.js"],"names":["downloadImage","imgsrc","name","image","Image","setAttribute","onload","canvas","document","createElement","width","height","context","getContext","drawImage","url","toDataURL","a","event","MouseEvent","download","href","dispatchEvent","src"],"mappings":"AAAA,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAASC,IAAT,EAAkB;AAAE;AAC7C,MAAIC,KAAK,GAAG,IAAIC,KAAJ,EAAZ;AACAD,EAAAA,KAAK,CAACE,YAAN,CAAmB,aAAnB,EAAkC,WAAlC;;AACAF,EAAAA,KAAK,CAACG,MAAN,GAAe,YAAW;AACtB,QAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,IAAAA,MAAM,CAACG,KAAP,GAAeP,KAAK,CAACO,KAArB;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgBR,KAAK,CAACQ,MAAtB;AACA,QAAIC,OAAO,GAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAd;AACAD,IAAAA,OAAO,CAACE,SAAR,CAAkBX,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+BA,KAAK,CAACO,KAArC,EAA4CP,KAAK,CAACQ,MAAlD;AACA,QAAII,GAAG,GAAGR,MAAM,CAACS,SAAP,CAAiB,WAAjB,CAAV,CANsB,CAMmB;;AAEzC,QAAIC,CAAC,GAAGT,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAR,CARsB,CAQe;;AACrC,QAAIS,KAAK,GAAG,IAAIC,UAAJ,CAAe,OAAf,CAAZ,CATsB,CASe;;AACrCF,IAAAA,CAAC,CAACG,QAAF,GAAalB,IAAI,IAAI,OAArB,CAVsB,CAUQ;;AAC9Be,IAAAA,CAAC,CAACI,IAAF,GAASN,GAAT,CAXsB,CAWR;;AACdE,IAAAA,CAAC,CAACK,aAAF,CAAgBJ,KAAhB,EAZsB,CAYE;AAC3B,GAbD;;AAcAf,EAAAA,KAAK,CAACoB,GAAN,GAAYtB,MAAZ;AACH,CAlBM","sourcesContent":["export const downloadImage = (imgsrc, name) => { //下载图片地址和图片名\r\n    var image = new Image();\r\n    image.setAttribute(\"crossOrigin\", \"anonymous\");\r\n    image.onload = function() {\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.width = image.width;\r\n        canvas.height = image.height;\r\n        var context = canvas.getContext(\"2d\");\r\n        context.drawImage(image, 0, 0, image.width, image.height);\r\n        var url = canvas.toDataURL(\"image/png\"); //得到图片的base64编码数据\r\n\r\n        var a = document.createElement(\"a\"); // 生成一个a元素\r\n        var event = new MouseEvent(\"click\"); // 创建一个单击事件\r\n        a.download = name || \"photo\"; // 设置图片名称\r\n        a.href = url; // 将生成的URL设置为a.href属性\r\n        a.dispatchEvent(event); // 触发a的单击事件\r\n    };\r\n    image.src = imgsrc;\r\n}"]}]}
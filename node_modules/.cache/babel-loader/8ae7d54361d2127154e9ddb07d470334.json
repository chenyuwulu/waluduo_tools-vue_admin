{"remainingRequest":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js??ref--13-0!D:\\we_sub\\gf-vue-admin\\web\\src\\store\\module\\user.js","dependencies":[{"path":"D:\\we_sub\\gf-vue-admin\\web\\src\\store\\module\\user.js","mtime":1601342948868},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\we_sub\\gf-vue-admin\\web\\node_modules\\_eslint-loader@2.2.1@eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovd2Vfc3ViL2dmLXZ1ZS1hZG1pbi93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi93ZV9zdWIvZ2YtdnVlLWFkbWluL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IGxvZ2luIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGpzb25JbkJsYWNrbGlzdCB9IGZyb20gJ0AvYXBpL2p3dCc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwpleHBvcnQgdmFyIHVzZXIgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgdXNlckluZm86IHsKICAgICAgdXVpZDogIiIsCiAgICAgIG5pY2tOYW1lOiAiIiwKICAgICAgaGVhZGVySW1nOiAiIiwKICAgICAgYXV0aG9yaXR5OiAiIgogICAgfSwKICAgIHRva2VuOiAiIgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VySW5mbzogZnVuY3Rpb24gc2V0VXNlckluZm8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICAgIC8vIOi/memHjOeahCBgc3RhdGVgIOWvueixoeaYr+aooeWdl+eahOWxgOmDqOeKtuaAgQogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfSwKICAgIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgICAgLy8g6L+Z6YeM55qEIGBzdGF0ZWAg5a+56LGh5piv5qih5Z2X55qE5bGA6YOo54q25oCBCiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgTG9naW5PdXQ6IGZ1bmN0aW9uIExvZ2luT3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0ge307CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbG9naW4nLAogICAgICAgIHJlcGxhY2U6IHRydWUKICAgICAgfSk7CiAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICBSZXNldFVzZXJJbmZvOiBmdW5jdGlvbiBSZXNldFVzZXJJbmZvKHN0YXRlKSB7CiAgICAgIHZhciB1c2VySW5mbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS51c2VySW5mbyksIHVzZXJJbmZvKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExvZ2luSW46IGZ1bmN0aW9uIExvZ2luSW4oX3JlZiwgbG9naW5JbmZvKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzLCByZWRpcmVjdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luKGxvZ2luSW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VySW5mbycsIHJlcy5kYXRhLnVzZXIpOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgcmVzLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgICByZWRpcmVjdCA9IHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucXVlcnkucmVkaXJlY3Q7CgogICAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3QpIHsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiByZWRpcmVjdAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvbGF5b3V0L2Rhc2hib2FyZCcKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTG9naW5PdXQ6IGZ1bmN0aW9uIExvZ2luT3V0KF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGpzb25JbkJsYWNrbGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBjb21taXQoIkxvZ2luT3V0Iik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgdXNlckluZm86IGZ1bmN0aW9uIHVzZXJJbmZvKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VySW5mbzsKICAgIH0sCiAgICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRva2VuOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/we_sub/gf-vue-admin/web/src/store/module/user.js"],"names":["login","jsonInBlacklist","router","user","namespaced","state","userInfo","uuid","nickName","headerImg","authority","token","mutations","setUserInfo","setToken","LoginOut","push","name","replace","sessionStorage","clear","window","location","reload","ResetUserInfo","actions","LoginIn","loginInfo","commit","res","code","data","redirect","history","current","query","path","getters"],"mappings":"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","sourcesContent":["import { login } from '@/api/user'\r\nimport { jsonInBlacklist } from '@/api/jwt'\r\nimport router from '@/router/index'\r\nexport const user = {\r\n    namespaced: true,\r\n    state: {\r\n        userInfo: {\r\n            uuid: \"\",\r\n            nickName: \"\",\r\n            headerImg: \"\",\r\n            authority: \"\",\r\n        },\r\n        token: \"\",\r\n    },\r\n    mutations: {\r\n        setUserInfo(state, userInfo) {\r\n            // 这里的 `state` 对象是模块的局部状态\r\n            state.userInfo = userInfo\r\n        },\r\n        setToken(state, token) {\r\n            // 这里的 `state` 对象是模块的局部状态\r\n            state.token = token\r\n        },\r\n        LoginOut(state) {\r\n            state.userInfo = {}\r\n            state.token = \"\"\r\n            router.push({ name: 'login', replace: true })\r\n            sessionStorage.clear()\r\n            window.location.reload()\r\n        },\r\n        ResetUserInfo(state, userInfo = {}) {\r\n            state.userInfo = {...state.userInfo,\r\n                ...userInfo\r\n            }\r\n        }\r\n    },\r\n    actions: {\r\n        async LoginIn({ commit }, loginInfo) {\r\n            const res = await login(loginInfo)\r\n            if (res.code == 0) {\r\n                commit('setUserInfo', res.data.user)\r\n                commit('setToken', res.data.token)\r\n                const redirect = router.history.current.query.redirect\r\n                if (redirect) {\r\n                    router.push({ path: redirect })\r\n                } else {\r\n                    router.push({ path: '/layout/dashboard' })\r\n                }\r\n            }\r\n        },\r\n        async LoginOut({ commit }) {\r\n            const res = await jsonInBlacklist()\r\n            if (res.code == 0) {\r\n                commit(\"LoginOut\")\r\n            }\r\n        }\r\n    },\r\n    getters: {\r\n        userInfo(state) {\r\n            return state.userInfo\r\n        },\r\n        token(state) {\r\n            return state.token\r\n        },\r\n\r\n    }\r\n}"]}]}